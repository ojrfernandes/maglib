# fpgen/CMakeLists.txt
# DO NOT EDIT THIS FILE

# Set the project name and C++ standard
project(fpgen)

# Specify directories
set(MAGLIT_DIR "${CMAKE_SOURCE_DIR}/maglit")
set(SODE_DIR "${CMAKE_SOURCE_DIR}/sode")
set(SOURCE_DIR "${CMAKE_SOURCE_DIR}/fpgen/src")

# Include directories
include_directories(
    /opt/local/include
    ${FIO_DIR}/include
    ${HDF5_FIR}/include
    ${MAGLIT_DIR}
    ${SODE_DIR}
)

# Link directories
link_directories(
    /opt/local/lib/gcc9
    ${HDF5_DIR}/lib
    ${FIO_DIR}/lib
)

# Libraries to link against
set(LIBS
    maglit
    sode
    -lgfortran
    -lstdc++
    -lhdf5
    -lnetcdf
    -llapack
    -lm3dc1
    -lfusionio
    -fopenmp
    -lgomp
)

# Source files
set(SRCS
    ${SOURCE_DIR}/run.cpp
    ${SOURCE_DIR}/tcabr_collider.cpp
    ${SOURCE_DIR}/input_read.cpp
    ${SOURCE_DIR}/footprint.cpp
)

# Add the executable
add_executable(fpgen ${SRCS})

# Link to libraries (include OpenMP here)
target_link_libraries(fpgen PRIVATE ${LIBS})


# Copy the input file to the build directory
file(COPY ${CMAKE_SOURCE_DIR}/fpgen/fp_input.txt DESTINATION ${CMAKE_BINARY_DIR}/fpgen)