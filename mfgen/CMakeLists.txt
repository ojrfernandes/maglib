# mfgen/CMakeLists.txt
# DO NOT EDIT THIS FILE

# Set the project name and C++ standard
project(mfgen)

# Specify directories
set(MAGLIT_DIR "${CMAKE_SOURCE_DIR}/maglit")
set(SODE_DIR "${CMAKE_SOURCE_DIR}/sode")
set(SOURCE_DIR "${CMAKE_SOURCE_DIR}/mfgen/src")

# Include directories
include_directories(
    /opt/local/include
    ${FIO_DIR}/include
    ${HDF5_FIR}/include
    ${MAGLIT_DIR}
    ${SODE_DIR}
)

# Link directories
link_directories(
    /opt/local/lib/gcc9
    ${HDF5_DIR}/lib
    ${FIO_DIR}/lib
)

# Libraries to link against
set(LIBS
    maglit
    sode
    -lgfortran
    -lstdc++
    -lhdf5
    -lnetcdf
    -llapack
    -lm3dc1
    -lfusionio
    -larmadillo
)

# Source files
set(SRCS
    ${SOURCE_DIR}/run.cpp
    ${SOURCE_DIR}/input_read.cpp
    ${SOURCE_DIR}/manifold.cpp
)

# Add the executable
add_executable(mfgen ${SRCS})

# Link to libraries
target_link_libraries(mfgen PRIVATE ${LIBS})

# Copy the input file to the build directory
file(COPY ${CMAKE_SOURCE_DIR}/mfgen/mf_input.txt DESTINATION ${CMAKE_BINARY_DIR}/mfgen)